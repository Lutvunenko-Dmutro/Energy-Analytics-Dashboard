<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° –î–∞—à–±–æ—Ä–¥ v11.0 (Operational)</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.33.0.min.js"></script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f4f7f6; color: #333; margin: 0; padding: 20px; }
        h1 { color: #1a535c; border-bottom: 2px solid #4ecdc4; padding-bottom: 10px; }
        h2 { color: #1a535c; margin-top: 0; font-size: 1.2rem; text-align: center; }
        
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        .chart-box { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .full-width-box { grid-column: 1 / -1; }
        .chart-container { position: relative; height: 350px; width: 100%; }
        
        #geo-network-map { height: 600px; border-radius: 8px; }
        #network-graph { height: 600px; border: 1px solid #ddd; border-radius: 8px; background-color: #fafafa; }
        #sankey-chart { height: 500px; width: 100%; }
        #heatmap-chart { height: 350px; width: 100%; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
        th { background-color: #f0f0f0; }
        td.limit-cell { color: #c0392b; font-weight: bold; }
        td.maintenance-cell { color: #2980b9; font-weight: bold; }
        td.alert-cell { color: #d9534f; font-weight: bold; }
        
        .resolve-button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        .resolve-button:hover { background-color: #218838; }
    </style>
</head>
<body>

    <h1>‚ö° –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –î–∞—à–±–æ—Ä–¥ v11.0 (Operational)</h1>

    <div class="dashboard-grid">
        
        <div class="chart-box full-width-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –ü–æ—Ç–æ–∫–∏ –ï–Ω–µ—Ä–≥—ñ—ó (Sankey Diagram)</h2> <div id="sankey-chart"></div> </div>
        <div class="chart-box full-width-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –ü–∞—Ç–µ—Ä–Ω–∏ –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (Heatmap 7 –¥–Ω—ñ–≤/24 –≥–æ–¥)</h2> <div id="heatmap-chart"></div> </div>
        <div class="chart-box full-width-box"> <h2>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ö–∞—Ä—Ç–∞ —Ç–∞ –¢–æ–ø–æ–ª–æ–≥—ñ—è –ú–µ—Ä–µ–∂—ñ</h2> <div id="geo-network-map"></div> </div>
        <div class="chart-box full-width-box"> <h2>"–ñ–∏–≤–∏–π" –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ + –ü–†–û–ì–ù–û–ó (–ü–° –ü—ñ–≤–Ω—ñ—á–Ω–∞, 48+24 –≥–æ–¥–∏–Ω)</h2> <div class="chart-container"> <canvas id="forecastChart"></canvas> </div> </div>
        <div class="chart-box full-width-box"> <h2>–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑: –í–∞—Ä—Ç—ñ—Å—Ç—å –µ–Ω–µ—Ä–≥—ñ—ó (–æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤)</h2> <div class="chart-container"> <canvas id="financeChart"></canvas> </div> </div>
        <div class="chart-box full-width-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è vs. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (7 –¥–Ω—ñ–≤)</h2> <div class="chart-container"> <canvas id="correlationChart"></canvas> </div> </div>
        <div class="chart-box" id="consumer-pie-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –°–∫–ª–∞–¥ –°–ø–æ–∂–∏–≤–∞—á—ñ–≤</h2> <div class="chart-container" style="height: 300px;"> <canvas id="consumerPieChart"></canvas> </div> </div>
        <div class="chart-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –ï–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–π –ú—ñ–∫—Å (%)</h2> <div class="chart-container" style="height: 300px;"> <canvas id="generationMixChart"></canvas> </div> </div>
        <div class="chart-box"> <h2>–ê–Ω–∞–ª—ñ–∑: –°–µ—Ä–µ–¥–Ω—ñ–π –¶–∏–∫–ª (–ú–í—Ç)</h2> <div class="chart-container" style="height: 300px;"> <canvas id="hourlyLoadChart"></canvas> </div> </div>
        <div class="chart-box full-width-box"> <h2>üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –ü–ª–∞–Ω–æ–≤–∏—Ö –†–µ–º–æ–Ω—Ç—ñ–≤</h2> <div id="maintenance-table-container"> <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è...</p> </div> </div>
        
        <div class="chart-box full-width-box">
            <h2>üö® –ê–∫—Ç–∏–≤–Ω—ñ –¢—Ä–∏–≤–æ–≥–∏ (–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –ñ—É—Ä–Ω–∞–ª)</h2>
            <div id="alerts-table-container">
                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç—Ä–∏–≤–æ–≥...</p>
            </div>
        </div>
        
    </div> <script>

        const API_URL = 'http://127.0.0.1:8000'; // "–ö–æ—Ä—ñ–Ω—å" —Å–µ—Ä–≤–µ—Ä–∞

        document.addEventListener('DOMContentLoaded', () => {
            // (–í–∏–∫–ª–∏–∫–∞—î–º–æ –≤—Å—ñ 10 —Ñ—É–Ω–∫—Ü—ñ–π)
            fetchAndDrawGeoNetwork();
            fetchForecastDashboard();
            fetchFinanceChart();
            fetchCorrelation();
            fetchGenerationMix();
            fetchHourlyLoad();
            fetchAlerts(); 
            fetchConsumerAnalysis();
            fetchMaintenanceCalendar();
            fetchSankeyChart_Plotly();
            fetchHeatmapChart_Plotly();
        });
        
        async function resolveAlert(alertId) {
            try {
                const response = await fetch(`${API_URL}/api/v11/alerts/${alertId}/resolve`, {
                    method: 'POST',
                });
                
                if (!response.ok) {
                    throw new Error(`–ü–æ–º–∏–ª–∫–∞ POST-–∑–∞–ø–∏—Ç—É: ${response.statusText}`);
                }
                
                const result = await response.json();
                console.log(result.message); 
                
                fetchAlerts(); 
                
            } catch (error) {
                console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Ç—Ä–∏–≤–æ–≥–∏:", error);
                alert("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–∫—Ä–∏—Ç–∏ —Ç—Ä–∏–≤–æ–≥—É.");
            }
        }

        /**
         * v11: –¢–∞–±–ª–∏—Ü—è –ê–∫—Ç–∏–≤–Ω–∏—Ö –ê–≤–∞—Ä—ñ–π (–∑ –∫–Ω–æ–ø–∫–æ—é)
         */
        async function fetchAlerts() { 
            try { 
                const response = await fetch(`${API_URL}/api/v11/alerts/active`); 
                const alerts = await response.json(); 
                
                if (!Array.isArray(alerts)) {
                    throw new Error("–í—ñ–¥–ø–æ–≤—ñ–¥—å API - –Ω–µ –º–∞—Å–∏–≤ (–º–æ–∂–ª–∏–≤–æ, –ø–æ–º–∏–ª–∫–∞ 404?)");
                }
                
                const container = document.getElementById('alerts-table-container'); 
                if (alerts.length === 0) { 
                    container.innerHTML = '<p style="color: green; font-weight: bold;">‚úÖ –ê–∫—Ç–∏–≤–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î —à—Ç–∞—Ç–Ω–æ.</p>'; 
                    return; 
                }
                
                let tableHTML = `<table><thead><tr><th>–ß–∞—Å</th><th>–ü—ñ–¥—Å—Ç–∞–Ω—Ü—ñ—è</th><th>–õ—ñ–º—ñ—Ç (–ú–í—Ç)</th><th>–û–ø–∏—Å –ê–≤–∞—Ä—ñ—ó</th><th>–î—ñ—è</th></tr></thead><tbody>`; 
                for (const alert of alerts) {
                    tableHTML += `
                        <tr>
                            <td>${new Date(alert.timestamp).toLocaleString('uk-UA')}</td>
                            <td>${alert.substation_name}</td>
                            <td class="limit-cell">${alert.substation_limit}</td>
                            <td class="alert-cell"><b>${alert.alert_description}</b></td>
                            <td>
                                <button class="resolve-button" onclick="resolveAlert(${alert.alert_id})">
                                    –í–∏—Ä—ñ—à–µ–Ω–æ
                                </button>
                            </td>
                        </tr>`;
                }
                container.innerHTML = tableHTML + `</tbody></table>`; 
            } catch (error) { 
                console.error("–ü–æ–º–∏–ª–∫–∞ (Alerts):", error);
                document.getElementById('alerts-table-container').innerHTML = "<p>–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –∞–≤–∞—Ä—ñ–π. (–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–ø—É—â–µ–Ω–æ '–º–æ–∑–æ–∫' v11)</p>";
            } 
        }
        
        async function fetchSankeyChart_Plotly() {
             try {
                const response = await fetch(`${API_URL}/api/v10/analysis/sankey`); 
                const data = await response.json();
                if (!data.nodes || data.nodes.label.length === 0) return;
                const plotData = [{ type: "sankey", orientation: "h", node: { pad: 15, thickness: 20, line: { color: "black", width: 0.5 }, label: data.nodes.label }, link: { source: data.links.source, target: data.links.target, value: data.links.value, label: data.links.label } }];
                const layout = { title: "–ü–æ—Ç–æ–∫–∏ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –°–ø–æ–∂–∏–≤–∞–Ω–Ω—è", font: { size: 10 }, height: 500 };
                Plotly.newPlot('sankey-chart', plotData, layout, {responsive: true});
             } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Plotly Sankey Chart):", error); }
        }
        
        async function fetchHeatmapChart_Plotly() {
            try {
                const response = await fetch(`${API_URL}/api/v8/analysis/heatmap`);
                const data = await response.json();
                const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–ù–¥'];
                const hours = Array.from({length: 24}, (_, i) => i.toString().padStart(2, '0') + ':00');
                let z_data = Array(7).fill(0).map(() => Array(24).fill(null));
                for (const item of data) {
                    z_data[item.day_of_week - 1][item.hour_of_day] = Math.round(item.avg_load);
                }
                const plotData = [{ z: z_data, x: hours, y: days, type: 'heatmap', hoverongaps: false, colorscale: [[0, '#5cb85c'], [0.5, '#f0ad4e'], [1, '#d9534f']] }];
                const layout = { title: '–¢–∏–∂–Ω–µ–≤–∏–π –ü–∞—Ç–µ—Ä–Ω –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ú–í—Ç)', xaxis: { title: '–ì–æ–¥–∏–Ω–∞ –¥–æ–±–∏' }, yaxis: { title: '–î–µ–Ω—å —Ç–∏–∂–Ω—è' } };
                Plotly.newPlot('heatmap-chart', plotData, layout, {responsive: true});
            } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Plotly Heatmap Chart):", error); }
        }

        async function fetchAndDrawGeoNetwork() { 
            try { 
                const response = await fetch(`${API_URL}/api/v7/map/full_network`); 
                const data = await response.json(); 
                if (!data.nodes || data.nodes.length === 0) return; const map = L.map('geo-network-map').setView([48.3794, 31.1656], 6); L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap' }).addTo(map); function getHeatColor(p) { return p > 80 ? '#d9534f' : p > 50 ? '#f0ad4e' : (p > 0 ? '#5cb85c' : '#888888'); } const nodeCoords = new Map(); for (const node of data.nodes) { nodeCoords.set(node.substation_id, [node.latitude, node.longitude]); L.circle([node.latitude, node.longitude], { color: getHeatColor(node.load_percent), fillColor: getHeatColor(node.load_percent), fillOpacity: 0.8, radius: 10000 }).addTo(map).bindPopup(`<b>–í—É–∑–æ–ª: ${node.substation_name}</b><br>–°—Ç–∞—Ç—É—Å: <b>${node.load_percent.toFixed(1)}%</b><br>–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${node.current_load.toFixed(1)} –ú–í—Ç<br>–õ—ñ–º—ñ—Ç: ${node.capacity_mw} –ú–í—Ç`); } for (const edge of data.edges) { const fromCoords = nodeCoords.get(edge.from_substation_id); const toCoords = nodeCoords.get(edge.to_substation_id); if (fromCoords && toCoords) { L.polyline([fromCoords, toCoords], { color: getHeatColor(edge.load_percent), weight: Math.max(2, (edge.load_percent / 20)) }).addTo(map).bindPopup(`<b>–õ—ñ–Ω—ñ—è: ${edge.line_name}</b><br>–°—Ç–∞—Ç—É—Å: <b>${edge.load_percent.toFixed(1)}%</b><br>–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${edge.current_load.toFixed(1)} –ú–í—Ç<br>–õ—ñ–º—ñ—Ç: ${edge.max_load_mw} –ú–í—Ç`); } } } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Geo-Network Map):", error); } 
        }
        
        async function fetchForecastDashboard() { 
            try { 
                const response = await fetch(`${API_URL}/api/v4/forecast/live`); 
                const data = await response.json(); 
                const historyLabels = data.history.map(item => new Date(item.timestamp)); const historyLoad = data.history.map(item => item.actual_load_mw); const historyLimit = data.history.map(item => item.substation_limit); const forecastLabels = data.forecast.map(item => new Date(item.timestamp)); const forecastLoad = data.forecast.map(item => item.forecast_load); const allLabels = historyLabels.concat(forecastLabels); const nulls_for_history = Array(historyLabels.length).fill(null); const nulls_for_forecast = Array(forecastLabels.length).fill(null); new Chart(document.getElementById('forecastChart').getContext('2d'), { type: 'line', data: { labels: allLabels, datasets: [ { label: '–†–µ–∞–ª—å–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ú–í—Ç)', data: historyLoad.concat(nulls_for_forecast), borderColor: '#1A535C', borderWidth: 2, pointRadius: 0, tension: 0.1 }, { label: '–õ—ñ–º—ñ—Ç –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (–ú–í—Ç)', data: historyLimit.concat(nulls_for_forecast), borderColor: '#FF6384', borderDash: [5, 5], borderWidth: 2, pointRadius: 0 }, { label: '–ü–†–û–ì–ù–û–ó (–ú–í—Ç)', data: nulls_for_history.concat(forecastLoad), borderColor: '#1A535C', borderDash: [10, 10], backgroundColor: 'rgba(78, 205, 196, 0.1)', fill: true, borderWidth: 2, pointRadius: 0, tension: 0.1 } ]}, options: { responsive: true, maintainAspectRatio: false, scales: { x: { type: 'time', time: { unit: 'hour', tooltipFormat: 'HH:mm dd-MM' } } } } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Forecast Dashboard):", error); } 
        }
        
        async function fetchFinanceChart() { 
            try { 
                const response = await fetch(`${API_URL}/api/v4/finance/hourly_cost`); 
                const data = await response.json(); 
                const labels = data.map(item => new Date(item.hour).toLocaleString('uk-UA', { day: 'numeric', month: 'short', hour: '2-digit' })); const costValues = data.map(item => (item.total_hourly_cost / 1000)); new Chart(document.getElementById('financeChart').getContext('2d'), { type: 'bar', data: { labels, datasets: [{ label: '–í–∞—Ä—Ç—ñ—Å—Ç—å –µ–Ω–µ—Ä–≥—ñ—ó (—Ç–∏—Å. –≥—Ä–Ω)', data: costValues, backgroundColor: 'rgba(28, 148, 92, 0.7)' }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { title: { display: true, text: '–í–∞—Ä—Ç—ñ—Å—Ç—å (—Ç–∏—Å. –≥—Ä–Ω)' }} } } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Finance Chart):", error); } 
        }
        
        async function fetchHourlyLoad() { 
            try { 
                const response = await fetch(`${API_URL}/api/v1/load/hourly`); 
                const data = await response.json(); 
                const labels = data.map(item => String(item.hour_of_day).padStart(2, '0') + ':00'); const values = data.map(item => item.avg_load); new Chart(document.getElementById('hourlyLoadChart').getContext('2d'), { type: 'bar', data: { labels, datasets: [{ label: '–°–µ—Ä–µ–¥–Ω—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ú–í—Ç)', data: values, backgroundColor: '#4ECDC4' }] }, options: { responsive: true, maintainAspectRatio: false } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Hourly Load):", error); } 
        }
        
        async function fetchGenerationMix() { 
            try { 
                const response = await fetch(`${API_URL}/api/v2/generation/mix`); 
                const data = await response.json(); 
                const labels = data.map(item => item.generator_type); const values = data.map(item => item.total_generated); new Chart(document.getElementById('generationMixChart').getContext('2d'), { type: 'doughnut', data: { labels, datasets: [{ data: values, backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(75, 192, 192, 0.8)', 'rgba(153, 102, 255, 0.8)'] }] }, options: { responsive: true, maintainAspectRatio: false } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Generation Mix):", error); } 
        }
        
        async function fetchCorrelation() { 
            try { 
                const response = await fetch(`${API_URL}/api/v2/correlation/load-temp`); 
                const data = await response.json(); 
                const labels = data.map(item => new Date(item.hour).toLocaleString('uk-UA', { day: 'numeric', month: 'short', hour: '2-digit' })); const loadValues = data.map(item => item.avg_load); const tempValues = data.map(item => item.avg_temp); new Chart(document.getElementById('correlationChart').getContext('2d'), { type: 'line', data: { labels, datasets: [{ label: '–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ú–í—Ç)', data: loadValues, borderColor: '#1A535C', yAxisID: 'y_load' }, { label: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)', data: tempValues, borderColor: '#FFB174', yAxisID: 'y_temp' }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y_load: { type: 'linear', position: 'left', title: { display: true, text: '–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ú–í—Ç)' }}, y_temp: { type: 'linear', position: 'right', title: { display: true, text: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)' }, grid: { drawOnChartArea: false }} } } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Correlation):", error); } 
        }
        
         async function fetchConsumerAnalysis() { 
            try { 
                const response = await fetch(`${API_URL}/api/v5/analysis/consumer_types`); 
                const data = await response.json(); 
                const labels = data.map(item => item.consumer_type); const values = data.map(item => item.consumer_count); new Chart(document.getElementById('consumerPieChart').getContext('2d'), { type: 'pie', data: { labels, datasets: [{ label: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤ (—à—Ç.)', data: values, backgroundColor: ['rgba(231, 76, 60, 0.8)', 'rgba(52, 152, 219, 0.8)', 'rgba(241, 196, 15, 0.8)', 'rgba(155, 89, 182, 0.8)'] }] }, options: { responsive: true, maintainAspectRatio: false } }); } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Consumer Analysis):", error); } 
        }
        
        async function fetchMaintenanceCalendar() { 
             try { 
                const response = await fetch(`${API_URL}/api/v5/maintenance/calendar`); 
                const events = await response.json(); 
                const container = document.getElementById('maintenance-table-container'); if (events.length === 0) { container.innerHTML = '<p>‚úÖ –ü–ª–∞–Ω–æ–≤–∏—Ö —Ä–µ–º–æ–Ω—Ç—ñ–≤ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ.</p>'; return; } let tableHTML = `<table><thead><tr><th>–ß–∞—Å –ü–æ—á–∞—Ç–∫—É</th><th>–ß–∞—Å –ö—ñ–Ω—Ü—è</th><th>–û–±'—î–∫—Ç</th><th>–¢–∏–ø</th><th>–ü—Ä–∏—á–∏–Ω–∞</th></tr></thead><tbody>`; for (const event of events) { tableHTML += `<tr><td class="maintenance-cell"><b>${new Date(event.start_time).toLocaleString('uk-UA')}</b></td><td class="maintenance-cell"><b>${new Date(event.end_time).toLocaleString('uk-UA')}</b></td><td>${event.object_name}</td><td>${event.object_type}</td><td>${event.reason}</td></tr>`; } container.innerHTML = tableHTML + `</tbody></table>`; } catch (error) { console.error("–ü–æ–º–∏–ª–∫–∞ (Maintenance Calendar):", error); } 
        }
    </script>
</body>
</html>